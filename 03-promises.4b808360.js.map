{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAC9BC,MAAEC,EAAKC,KAAEC,EAAIC,OAAEC,GAAWR,EAAKS,SACrCT,EAAKU,iBAAiB,SAAUC,GAChC,IAAIC,EAAW,EACXC,EAAY,EAEhB,SAASF,EAAcG,GACrBA,EAAMC,iBAENC,YAAW,KACTC,EAAWL,EAAUM,OAAOd,EAAMe,QAClCN,GAAaK,OAAOd,EAAMe,MAAM,GAC/Bf,EAAMe,OAETH,YAAW,KACT,IAAK,IAAII,EAAQ,EAAGA,EAAQZ,EAAOW,MAAQ,EAAGC,GAAS,EACrDR,GAAY,EACZC,GAAaK,OAAOZ,EAAKa,OACzBF,EAAWL,EAAUC,E,GAEtBT,EAAMe,OAETH,YAAW,KACTJ,EAAW,EACXC,EAAY,CAAC,GACZ,E,CAGL,SAASI,EAAWI,EAAUC,GAC5BN,YAAW,MAab,SAAsBO,EAAGC,EAAUC,GACjCF,EAAEG,MAAK,KACL5B,EAAA6B,OAAOC,QAAQ,uBAAqBJ,QAAiBC,MAAc,IAClEI,OAAM,KACP/B,EAAA6B,OAAOG,QAAQ,sBAAoBN,QAAiBC,MAAc,G,CARlEM,CARQ,IAAIC,SAAQ,CAACC,EAASC,KACNC,KAAKC,SAAW,GAEpCH,IAEAC,GAAQ,IAGIb,EAAUC,EAAU,GACnCA,EAAYJ,OAAOd,EAAMe,O,CAW9BrB,EAAA6B,OAAOU,KAAK,CACVC,cAAc,EACdC,SAAU,gBACVC,MAAO,QACPC,QAAS,QACTC,SAAU,SAGZ,MAAMC,EAAS1C,SAASC,cAAc,SACnBD,SAAS2C,iBAAiB,SAC1B3C,SAAS2C,iBAAiB,SAC1B3C,SAAS2C,iBAAiB,UAE7CD,EAAOjC,iBAAiB,UAExB,SAAoBmC,GAClBA,EAAI9B,iBACJ,IAAI+B,EAAY5B,OAAO2B,EAAIE,OAAOtC,SAASN,MAAMgB,OACjD,MAAM6B,EAAW9B,OAAO2B,EAAIE,OAAOtC,SAASJ,KAAKc,OAC3C8B,EAAa/B,OAAO2B,EAAIE,OAAOtC,SAASF,OAAOY,OACrD,IAAK,IAAI+B,EAAI,EAAGA,GAAKD,EAAYC,GAAK,EACpCvC,EAAcuC,GACXxB,MAAK,EAAGa,SAAAY,EAAUhD,MAAAiD,MACjBtD,EAAA6B,OAAOC,QAAQ,kBAACuB,QAA+BC,OAAS,IAEzDvB,OAAM,EAAGU,SAAAc,EAAUlD,MAAAmD,MAClBxD,EAAA6B,OAAOG,QAAQ,oBAACuB,QAAkCC,OAAS,IAE9CR,GAAaE,C","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('form');\nconst { delay, step, amount } = form.elements;\nform.addEventListener('submit', createPromise);\nlet position = 0;\nlet stepValue = 0;\n\nfunction createPromise(event) {\n  event.preventDefault();\n\n  setTimeout(() => {\n    newPromise(position, Number(delay.value));\n    stepValue += Number(delay.value);\n  }, delay.value);\n\n  setTimeout(() => {\n    for (let index = 0; index < amount.value - 1; index += 1) {\n      position += 1;\n      stepValue += Number(step.value);\n      newPromise(position, stepValue);\n    }\n  }, delay.value);\n\n  setTimeout(() => {\n    position = 1;\n    stepValue = 0;\n  }, 0);\n}\n\nfunction newPromise(position, stepValue) {\n  setTimeout(() => {\n    let a = new Promise((resolve, reject) => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve();\n      } else {\n        reject();\n      }\n    });\n    returnResult(a, position, stepValue);\n  }, stepValue - Number(delay.value));\n}\n\nfunction returnResult(a, position, stepValue) {\n  a.then(() => {\n    Notify.success(`✅ Fulfilled promise ${position} in ${stepValue}ms`);\n  }).catch(() => {\n    Notify.failure(`❌ Rejected promise ${position} in ${stepValue}ms`);\n  });\n}\n\nNotify.init({\n  clickToClose: true,\n  position: 'center-center',\n  width: '600px',\n  timeout: '10000',\n  fontSize: '17px',\n});\n\nconst formEl = document.querySelector('.form');\nconst formInputs = document.querySelectorAll('input');\nconst formLabels = document.querySelectorAll('label');\nconst formButton = document.querySelectorAll('button');\n\nformEl.addEventListener('submit', handleForm);\n\nfunction handleForm(evt) {\n  evt.preventDefault();\n  let promDelay = Number(evt.target.elements.delay.value);\n  const promStep = Number(evt.target.elements.step.value);\n  const promAmount = Number(evt.target.elements.amount.value);\n  for (let i = 1; i <= promAmount; i += 1) {\n    createPromise(i, promDelay)\n      .then(({ position, delay }) => {\n        Notify.success(`Успішний тест №${position} на ${delay} мс`);\n      })\n      .catch(({ position, delay }) => {\n        Notify.failure(`Помилка у тесті №${position} на ${delay} мс`);\n      });\n    promDelay += promStep;\n  }\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","delay","$47d4ff9957288465$var$delay","step","$47d4ff9957288465$var$step","amount","$47d4ff9957288465$var$amount","elements","addEventListener","$47d4ff9957288465$var$createPromise","$47d4ff9957288465$var$position","$47d4ff9957288465$var$stepValue","event","preventDefault","setTimeout","$47d4ff9957288465$var$newPromise","Number","value","index","position1","stepValue1","a","position2","stepValue2","then","Notify","success","catch","failure","$47d4ff9957288465$var$returnResult","Promise","resolve","reject","Math","random","init","clickToClose","position","width","timeout","fontSize","$47d4ff9957288465$var$formEl","querySelectorAll","evt","promDelay","target","promStep","promAmount","i","position3","delay1","position4","delay2"],"version":3,"file":"03-promises.4b808360.js.map"}