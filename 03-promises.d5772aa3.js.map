{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,QACJC,EAAAH,EAAKI,SAA7BC,EAAwBF,EAAxBG,MAAOC,EAAiBJ,EAAjBK,KAAMC,EAAWN,EAAXO,OACrBV,EAAKW,iBAAiB,UAGtB,SAAuBC,GACrBA,EAAEC,iBAEkBC,YAAT,WACTC,EAAWC,EAAUC,OAAOZ,EAAMa,QAClCC,GAAaF,OAAOZ,EAAMa,M,GACzBb,EAAMa,OAEUJ,YAAR,WACT,IAAK,IAAIM,EAAQ,EAAGA,EAAQX,EAAOS,MAAQ,EAAGE,GAAS,EACrDJ,GAAY,EACZG,GAAaF,OAAOV,EAAKW,OACzBH,EAAWC,EAAUG,E,GAEtBd,EAAMa,OAE0BJ,YAAxB,WACTE,EAAW,EACXG,EAAY,C,GACX,E,IArBL,IAAIH,EAAW,EACXG,EAAY,EAwBC,SAARJ,EAAWM,EAAUC,GAEHR,YAAd,YAYb,SAAsBS,EAAGC,EAAUC,GACjCF,EAAEG,MAAK,WACL5B,EAAA6B,OAAOC,QAAQ,uBAAwCC,OAAfL,EAAS,QAAgBK,OAAVJ,EAAU,M,IAChEK,OAAM,WACPhC,EAAA6B,OAAOI,QAAQ,sBAAqCF,OAAfL,EAAS,QAAgBK,OAAVJ,EAAU,M,IAP9DO,CARQ,IAAIC,SAAQ,SAACC,EAASC,GACNC,KAAKC,SAAW,GAEpCH,IAEAC,G,IAGYd,EAAUC,E,GACzBA,EAAYL,OAAOZ,EAAMa,O","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('form');\nconst { delay, step, amount } = form.elements;\nform.addEventListener('submit', createPromise);\nlet position = 0;\nlet stepValue = 0;\nfunction createPromise(e) {\n  e.preventDefault();\n  // вилик першого елементу\n  setTimeout(() => {\n    newPromise(position, Number(delay.value));\n    stepValue += Number(delay.value);\n  }, delay.value);\n  // вилик решти елементів\n  setTimeout(() => {\n    for (let index = 0; index < amount.value - 1; index += 1) {\n      position += 1;\n      stepValue += Number(step.value);\n      newPromise(position, stepValue);\n    }\n  }, delay.value);\n  // оновлення значення після завершення діЇ\n  setTimeout(() => {\n    position = 1;\n    stepValue = 0;\n  }, 0);\n}\n\n//створення промісів\nfunction newPromise(position, stepValue) {\n  // створення і обробка промісів\n  setTimeout(() => {\n    let a = new Promise((resolve, reject) => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve();\n      } else {\n        reject();\n      }\n    });\n    returnResult(a, position, stepValue);\n  }, stepValue - Number(delay.value));\n}\nfunction returnResult(a, position, stepValue) {\n  a.then(() => {\n    Notify.success(`✅ Fulfilled promise ${position} in ${stepValue}ms`);\n  }).catch(() => {\n    Notify.failure(`❌ Rejected promise ${position} in ${stepValue}ms`);\n  });\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$_elements","elements","$ce04d3a99e08e73b$var$delay","delay","$ce04d3a99e08e73b$var$step","step","$ce04d3a99e08e73b$var$amount","amount","addEventListener","e","preventDefault","setTimeout","$ce04d3a99e08e73b$var$newPromise","$ce04d3a99e08e73b$var$position","Number","value","$ce04d3a99e08e73b$var$stepValue","index","position1","stepValue1","a","position2","stepValue2","then","Notify","success","concat","catch","failure","$ce04d3a99e08e73b$var$returnResult","Promise","resolve","reject","Math","random"],"version":3,"file":"03-promises.d5772aa3.js.map"}